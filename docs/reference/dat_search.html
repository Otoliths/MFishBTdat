<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light"><script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/3/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>Search Function for the Datasets — dat_search • MFishBTdat</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Search Function for the Datasets — dat_search"><meta property="og:description" content="Function to search among the existing datasets."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/3/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/3/darkly/bootstrap.css" media="(prefers-color-scheme: dark)"><!-- preferably CSS --><link rel="stylesheet" href="../preferably.css"><link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)"><script src="../darkswitch.js"></script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MFishBTdat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Datasets / Functions</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
          <a href="#" id="css-toggle-btn">
            <span class="fas fa-adjust fa-lg"></span>
          </a>
        </li>
        
        <li>
  <a href="https://github.com/Otoliths/MFishBTdat" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
        
        


      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Search Function for the Datasets</h1>
    
    <div class="hidden name"><code>dat_search.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function to search among the existing datasets.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dat_search</span><span class="op">(</span><span class="va">pattern</span>, concept <span class="op">=</span> <span class="cn">TRUE</span>, matchall <span class="op">=</span> <span class="cn">TRUE</span>, fixed <span class="op">=</span> <span class="cn">TRUE</span>, pkgdown <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>pattern</dt>
<dd><p>character string or vector of strings specifying the terms to search for within the datasets. Can also be left unspecified to start the function in an interactive mode.</p></dd>

   <dt>concept</dt>
<dd><p>logical indicating whether the search should be confined to the concept terms (<code>TRUE</code> by default) or whether a full-text search should be conducted.</p></dd>

   <dt>matchall</dt>
<dd><p>logical indicating whether only the datasets matching all terms (if multiple are specified) are returned (<code>TRUE</code> by default) or whether datasets matching any one of the terms are returned.</p></dd>

   <dt>fixed</dt>
<dd><p>logical indicating whether a term is a string to be matched as is (<code>TRUE</code> by default). If <code>FALSE</code>, a search term is a regular expression that <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></code> will search for. Only relevant when <code>concept=FALSE</code> (i.e., when doing a full-text search).</p></dd>

   <dt>pkgdown</dt>
<dd><p>logical indicating whether the standard help file or the pkgdown docs (at <a href="https://wviechtb.github.io/metadat/" class="external-link">https://wviechtb.github.io/metadat/</a>) should be shown for a chosen dataset (<code>FALSE</code> by default).</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The function can be used to search all existing datasets in the <span class="pkg">metadat</span> package based on their concept terms (see below) or based on a full-text search of their corresponding help files.</p>
<p>When running <code>dat_search()</code> without the <code>pattern</code> argument specified, the function starts in an interactive mode and prompts for one or multiple search terms.</p>
<p>Alternatively, one can specify a single search term via the <code>pattern</code> argument or multiple search terms by using a string vector as the <code>pattern</code> or by separating multiple search terms in a single string with ‘,’, ‘;’, or ‘and’.</p>
<p>If <code>matchall=TRUE</code> (the default), only datasets matching all search terms (if multiple are specified) are returned. If <code>matchall=FALSE</code>, datasets matching any one of the search terms are returned.</p>
<p>If a single match is found, the corresponding help file is directly shown. If multiple matches are found, the user is prompted to choose one of the matching datasets of interest.</p>
<p><b>Concept Terms</b></p>
<p>Each dataset is tagged with one or multiple concept terms that refer to various aspects of a dataset, such as the biogeochemical tags, the biomineral archives/structures, the microchemical/isotopic elements, and the FAO major fishing areas that can be illustrated with the dataset.</p>
<p></p><ul><li><p>In terms of ‘biogeochemical tags’, the following terms have been used at least once: bulk elements,isotopic ratios.</p></li>
<li><p>In terms of ‘biomineral archives/structures’, the following terms have been used at least once: otolith, scale, eye lenses, vertebra.</p></li>
<li><p>In terms of ‘microchemical/isotopic elements’, the following terms have been used at least once: H: Hydrogen; Li: Lithum; Be: Beryllium; B: Boron; C: Carbon; N: Nitrogen; O: Oxygen;
F: Fluorine; Na: Sodium; Mg: Magnesium; Al: Aluminium; Si: Silicon; P: Phosphorus;
S: Sulfur; Cl: Chlorlne; K: Potassium; Ca: Calcium; Sc: Scandium; Ti: Titanium;
V: Vanadium; Cr: Chromium; Mn: Manganum; Fe: Iron; Co: Cobalt; Ni: Nickel;
Cu: Copper; Zn: Zinc; Ga: Gallium; Ge: Germanium; As: Arsenic; Se: Selenium;
Br: Bormine; Kr: Krypton; Rb: Rubidium; Sr: Strontium; Y: Yttrium; Zr: Zirconium;
Nb: Niobium; Mo: Molybdanium; Tc: Technetium; Pd: Palladium; Ag: Silver;
Cd: Cadmium; In: Inlium; Sn: Tin; Sb: Antimony; I: Iodine; Cs: Caesium;
Ba: Barium; Hf: Hafnium; W: Tungsten; Os: Osmium; Au: Gold; Hg: Mercury;
Tl: Thallium; Pb: Lead; Bi: Bismuth; At: Astatium; Ra: Radium; La: Lanthanum;
Ce: Cerium; Pr: Praseodymium; Nd: Neodymium; Sm: Samarium; Gd: Gadolinium;
Tb: Terbium; Dy: Dysprosium; Ho: Holmium; Er: Erbium; Tm: Thulium; Yb: Ytterbium;
Lu: Lrtetium; Th: Thorium; Pa: Protactinium; U: Uranium;
d34S; d13C; d15N; d18O; Sr8786;
Sr/Ca; elements(E)/Ca;
more elements were available from <a href="https://periodictable.com" class="external-link">https://periodictable.com</a>.</p></li>
<li><p>In terms of ‘FAO major fishing areas’, the following terms have been used at least once: Africa, North America, South America, Asia, Europe, Oceania, Antarctica, Arctic sea, Northwest Atlantic, Northeast Atlantic, Western Central Atlantic,
Eastern Central Atlantic, Mediterranean and Black sea, Southwest Atlantic,
Southeast Atlantic, Antarctic Atlantic, Western Indian Ocean, Eastern Indian Ocean,
Antarctic Indian Ocean, Northwest Pacific, Northeast Pacific, Western Central Pacific,
Eastern Central Pacific, Southwestern Pacific, Southeastern Pacific, Antarctic Pacific.</p></li>
</ul></div>
    <div id="author">
    <h2>Author</h2>
    <p>Liuyong Ding, <a href="mailto:ly_ding@126.com">ly_ding@126.com</a> <br>
   Bangli Tang, <a href="mailto:tangbangli9@gmail.com">tangbangli9@gmail.com</a></p>
    </div>
    <div id="source">
    <h2>Source</h2>
    <p>This function source from the <em>datsearch</em> of <b>metadat</b> <a href="https://github.com/wviechtb/metadat" class="external-link">https://github.com/wviechtb/metadat</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># note: the examples below are not run since they require interactivity</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>   <span class="co"># start the function in the interactive mode</span></span></span>
<span class="r-in"><span>   <span class="fu">dat_search</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>   <span class="co"># find all datasets tagged with the concept term 'otolith'</span></span></span>
<span class="r-in"><span>   <span class="fu">dat_search</span><span class="op">(</span><span class="st">"otolith"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>   <span class="co"># find all datasets tagged with the concept terms 'otolith' and 'sr'</span></span></span>
<span class="r-in"><span>   <span class="fu">dat_search</span><span class="op">(</span><span class="st">"otolith, Sr8786"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>   <span class="co"># do a full-text search for the term 'infarct'</span></span></span>
<span class="r-in"><span>   <span class="fu">dat_search</span><span class="op">(</span><span class="st">"Sr8786"</span>, concept<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>   <span class="co"># do a full-text search for 'rma.mv(' (essentially finds all datasets where</span></span></span>
<span class="r-in"><span>   <span class="co"># the rma.mv() function was used in the examples section of a help file)</span></span></span>
<span class="r-in"><span>   <span class="fu">dat_search</span><span class="op">(</span><span class="st">"rma.mv("</span>, concept<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Liuyong Ding, Chengzhi Ding, Juan Tao.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
  <p class="preferably">Using <a href="https://preferably.amirmasoudabdol.name/?source=footer" class="external-link">preferably</a> template.</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    appId: 'B3DHC2OOU8',
    
    apiKey: '8c74dd1e0cd05800bf9f222777e07625',
    indexName: 'wviechtb-MFishBTdat',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

